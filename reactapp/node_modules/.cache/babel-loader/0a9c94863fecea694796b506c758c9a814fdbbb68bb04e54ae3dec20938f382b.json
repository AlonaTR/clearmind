{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{Helmet}from'react-helmet';import TestQuestion from'../components/test-question';import'./test.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Test=props=>{const[questions,setQuestions]=useState([]);const[selectedAnswers,setSelectedAnswers]=useState({});const[currentQuestionIndex,setCurrentQuestionIndex]=useState(0);const[totalScore,setTotalScore]=useState(0);const[showScore,setShowScore]=useState(false);// New state variable to control score display\nconst isLastQuestion=currentQuestionIndex===questions.length-1;useEffect(()=>{// Fetch test questions from the backend\nconst fetchQuestions=async()=>{try{const response=await axios.get('/api/test-questions');setQuestions(response.data);}catch(error){console.error('Error fetching test questions:',error);}};fetchQuestions();},[]);const handleAnswerSelect=(questionId,answerPoints)=>{setSelectedAnswers({...selectedAnswers,[questionId]:answerPoints});};const handleNextQuestion=()=>{if(isLastQuestion){// Calculate the total score only if it's the last question\nconst score=Object.values(selectedAnswers).reduce((acc,points)=>acc+points,0);setTotalScore(score);setShowScore(true);// Set showScore to true to display the score\n}else{setCurrentQuestionIndex(currentQuestionIndex+1);}};const currentQuestion=questions[currentQuestionIndex];return/*#__PURE__*/_jsxs(\"div\",{className:\"test-container\",children:[/*#__PURE__*/_jsxs(Helmet,{children:[/*#__PURE__*/_jsx(\"title\",{children:\"Test - Clear Mind\"}),/*#__PURE__*/_jsx(\"meta\",{property:\"og:title\",content:\"Test - Clear Mind\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"test-hero\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"test-hero-button1 button\",children:\"Log in\"}),/*#__PURE__*/_jsx(\"div\",{className:\"test-hero1\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"test-container1\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"test-hero-heading heading1\",children:\"Clear Mind\"}),/*#__PURE__*/_jsx(\"span\",{className:\"test-hero-sub-heading\",children:\"Discover the Power of Meditation\"}),/*#__PURE__*/_jsx(\"div\",{className:\"test-btn-group\",children:/*#__PURE__*/_jsx(\"button\",{className:\"test-home-button button\",children:\"Home\"})})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"test-faq\",children:/*#__PURE__*/_jsx(\"div\",{className:\"test-faq-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"test-faq1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"test-heading\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"test-text heading2\",children:\"Test\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"test-text01\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"It test can help you find out what you need at this moment. You need to answer a few questions\\xA0\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(\"span\",{dangerouslySetInnerHTML:{__html:' '}})}),/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(\"span\",{dangerouslySetInnerHTML:{__html:' '}})}),/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(\"span\",{dangerouslySetInnerHTML:{__html:' '}})}),/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(\"span\",{dangerouslySetInnerHTML:{__html:' '}})}),/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(\"span\",{dangerouslySetInnerHTML:{__html:' '}})}),/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(\"span\",{dangerouslySetInnerHTML:{__html:' '}})}),/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(\"span\",{dangerouslySetInnerHTML:{__html:' '}})}),/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(\"span\",{dangerouslySetInnerHTML:{__html:' '}})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"test-test\",children:[!showScore&&currentQuestion&&/*#__PURE__*/_jsx(TestQuestion,{question:currentQuestion.question_text,answers:[{text:currentQuestion.answer_choice_1,points:currentQuestion.answer_choice_1_points},{text:currentQuestion.answer_choice_2,points:currentQuestion.answer_choice_2_points},{text:currentQuestion.answer_choice_3,points:currentQuestion.answer_choice_3_points},{text:currentQuestion.answer_choice_4,points:currentQuestion.answer_choice_4_points}],onAnswerSelect:points=>handleAnswerSelect(currentQuestion.id,points)}),showScore&&/*#__PURE__*/_jsxs(\"div\",{className:\"test-score-container\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Your Total Score\"}),/*#__PURE__*/_jsx(\"p\",{children:totalScore})]}),!showScore&&/*#__PURE__*/_jsxs(\"div\",{className:\"test-buttons\",children:[currentQuestionIndex>0&&/*#__PURE__*/_jsx(\"button\",{className:\"test-back-button button\",onClick:()=>setCurrentQuestionIndex(currentQuestionIndex-1),children:\"<-- Back\"}),/*#__PURE__*/_jsx(\"button\",{className:\"test-next-button button\",onClick:handleNextQuestion,children:isLastQuestion?'Result':'Next --&gt;'})]})]})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"test-footer\",children:/*#__PURE__*/_jsx(\"div\",{className:\"test-container2\"})})]});};export default Test;","map":{"version":3,"names":["React","useState","useEffect","axios","Helmet","TestQuestion","jsx","_jsx","jsxs","_jsxs","Test","props","questions","setQuestions","selectedAnswers","setSelectedAnswers","currentQuestionIndex","setCurrentQuestionIndex","totalScore","setTotalScore","showScore","setShowScore","isLastQuestion","length","fetchQuestions","response","get","data","error","console","handleAnswerSelect","questionId","answerPoints","handleNextQuestion","score","Object","values","reduce","acc","points","currentQuestion","className","children","property","content","dangerouslySetInnerHTML","__html","question","question_text","answers","text","answer_choice_1","answer_choice_1_points","answer_choice_2","answer_choice_2_points","answer_choice_3","answer_choice_3_points","answer_choice_4","answer_choice_4_points","onAnswerSelect","id","onClick"],"sources":["D:/polska/clearmind/meditation_project/reactapp/src/views/test.js"],"sourcesContent":["import React, { useState, useEffect } from 'react'\nimport axios from 'axios'\n\nimport { Helmet } from 'react-helmet'\n\nimport TestQuestion from '../components/test-question'\nimport './test.css'\n\nconst Test = (props) => {\n  const [questions, setQuestions] = useState([]);\n  const [selectedAnswers, setSelectedAnswers] = useState({});\n  const [currentQuestionIndex, setCurrentQuestionIndex] = useState(0);\n  const [totalScore, setTotalScore] = useState(0);\n  const [showScore, setShowScore] = useState(false); // New state variable to control score display\n  const isLastQuestion = currentQuestionIndex === questions.length - 1;\n\n\n  useEffect(() => {\n    // Fetch test questions from the backend\n    const fetchQuestions = async () => {\n      try {\n        const response = await axios.get('/api/test-questions');\n        setQuestions(response.data);\n      } catch (error) {\n        console.error('Error fetching test questions:', error);\n      }\n    };\n\n    fetchQuestions();\n  }, []);\n\n  const handleAnswerSelect = (questionId, answerPoints) => {\n    setSelectedAnswers({\n      ...selectedAnswers,\n      [questionId]: answerPoints,\n    });\n  };\n\n  const handleNextQuestion = () => {\n    if (isLastQuestion) {\n      // Calculate the total score only if it's the last question\n      const score = Object.values(selectedAnswers).reduce((acc, points) => acc + points, 0);\n      setTotalScore(score);\n      setShowScore(true); // Set showScore to true to display the score\n    } else {\n      setCurrentQuestionIndex(currentQuestionIndex + 1);\n    }\n  };\n\n  const currentQuestion = questions[currentQuestionIndex];\n\n  return (\n    <div className=\"test-container\">\n      <Helmet>\n        <title>Test - Clear Mind</title>\n        <meta property=\"og:title\" content=\"Test - Clear Mind\" />\n      </Helmet>\n      <div className=\"test-hero\">\n        <button className=\"test-hero-button1 button\">Log in</button>\n        <div className=\"test-hero1\">\n          <div className=\"test-container1\">\n            <h1 className=\"test-hero-heading heading1\">Clear Mind</h1>\n            <span className=\"test-hero-sub-heading\">\n              Discover the Power of Meditation\n            </span>\n            <div className=\"test-btn-group\">\n              <button className=\"test-home-button button\">Home</button>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div className=\"test-faq\">\n        <div className=\"test-faq-container\">\n          <div className=\"test-faq1\">\n            <div className=\"test-heading\">\n              <h2 className=\"test-text heading2\">Test</h2>\n              <span className=\"test-text01\">\n                <span>\n                  It test can help you find out what you need at this moment.\n                  You need to answer a few questionsÂ \n                </span>\n                <br></br>\n                <span>\n                  <span\n                    dangerouslySetInnerHTML={{\n                      __html: ' ',\n                    }}\n                  />\n                </span>\n                <span>\n                  <span\n                    dangerouslySetInnerHTML={{\n                      __html: ' ',\n                    }}\n                  />\n                </span>\n                <span>\n                  <span\n                    dangerouslySetInnerHTML={{\n                      __html: ' ',\n                    }}\n                  />\n                </span>\n                <span>\n                  <span\n                    dangerouslySetInnerHTML={{\n                      __html: ' ',\n                    }}\n                  />\n                </span>\n                <span>\n                  <span\n                    dangerouslySetInnerHTML={{\n                      __html: ' ',\n                    }}\n                  />\n                </span>\n                <span>\n                  <span\n                    dangerouslySetInnerHTML={{\n                      __html: ' ',\n                    }}\n                  />\n                </span>\n                <span>\n                  <span\n                    dangerouslySetInnerHTML={{\n                      __html: ' ',\n                    }}\n                  />\n                </span>\n                <span>\n                  <span\n                    dangerouslySetInnerHTML={{\n                      __html: ' ',\n                    }}\n                  />\n                </span>\n              </span>\n            </div>\n            <div className=\"test-test\">\n              {!showScore && currentQuestion && (\n                <TestQuestion\n                  question={currentQuestion.question_text}\n                  answers={[\n                    { text: currentQuestion.answer_choice_1, points: currentQuestion.answer_choice_1_points },\n                    { text: currentQuestion.answer_choice_2, points: currentQuestion.answer_choice_2_points },\n                    { text: currentQuestion.answer_choice_3, points: currentQuestion.answer_choice_3_points },\n                    { text: currentQuestion.answer_choice_4, points: currentQuestion.answer_choice_4_points },\n                  ]}\n                  onAnswerSelect={(points) => handleAnswerSelect(currentQuestion.id, points)}\n                />\n              )}\n              {showScore && (\n                <div className=\"test-score-container\">\n                  <h3>Your Total Score</h3>\n                  <p>{totalScore}</p>\n                </div>\n              )}\n\n              {!showScore && (\n                <div className=\"test-buttons\">\n                  {currentQuestionIndex > 0 && (\n                    <button className=\"test-back-button button\" onClick={() => setCurrentQuestionIndex(currentQuestionIndex - 1)}>&lt;-- Back</button>\n                  )}\n                  <button className=\"test-next-button button\" onClick={handleNextQuestion}>\n                    {isLastQuestion ? 'Result' : 'Next --&gt;'}\n                  </button>\n                </div>\n              )}\n\n            </div>\n          </div>\n        </div>\n      </div>\n      <div className=\"test-footer\">\n        <div className=\"test-container2\"></div>\n      </div>\n    </div>\n  )\n}\n\nexport default Test\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}