{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useHistory,Link}from'react-router-dom';import{Helmet}from'react-helmet';import Footer from'../components/footer';import InfoAccount from'../components/info-account';import'./account.css';import NavBar from'../components/nav-bar';import EditForm from'../components/edit-form';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Account=props=>{const[userData,setUserData]=useState(null);const history=useHistory();const[editMode,setEditMode]=useState(false);const toggleEditMode=()=>{setEditMode(!editMode);};useEffect(()=>{const user=localStorage.getItem('user');console.log('User data from localStorage:',user);// Log the raw user data from localStorage\nif(user){const parsedUser=JSON.parse(user);setUserData(parsedUser);console.log('User data:',parsedUser);// Debugging statement\n}else{// If there's no user data in localStorage, redirect to the login page\nhistory.push('/log-in');}},[history]);const onFormSubmit=()=>{const user=localStorage.getItem('user');if(user){const parsedUser=JSON.parse(user);setUserData(parsedUser);}setEditMode(false);};// Function to handle user logout\nconst handleLogout=()=>{// Clear user data from localStorage and state\nlocalStorage.removeItem('user');setUserData(null);// Redirect to login page or home page\nprops.history.push('/log-in');};return/*#__PURE__*/_jsxs(\"div\",{className:\"account-container\",children:[/*#__PURE__*/_jsxs(Helmet,{children:[/*#__PURE__*/_jsx(\"title\",{children:\"Account - Clear Mind\"}),/*#__PURE__*/_jsx(\"meta\",{property:\"og:title\",content:\"Account - Clear Mind\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"account-hero\",children:[/*#__PURE__*/_jsx(NavBar,{rootClassName:\"nav-bar-root-class-name\"}),/*#__PURE__*/_jsx(\"div\",{className:\"account-hero1\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"account-container1\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"log-in-hero-heading heading1\",children:/*#__PURE__*/_jsx(Link,{to:\"/home\",className:\"log-in-hero-heading-link\",children:\"Clear Mind\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"account-container2\",children:editMode?/*#__PURE__*/_jsx(EditForm,{userData:userData,setEditMode:setEditMode,onFormSubmit:onFormSubmit}):userData?/*#__PURE__*/ // Check if userData is not null\n_jsxs(\"div\",{className:\"info-account-container info-account-root-class-name\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"info-account-text-name\",children:\"Username:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"info-account-text-name1\",children:userData.username}),/*#__PURE__*/_jsx(\"span\",{className:\"info-account-text-email\",children:\"Email:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"info-account-text-email1\",children:userData.email})]}):/*#__PURE__*/_jsx(\"p\",{children:\"Loading user data...\"})// Display a loading message or spinner\n}),!editMode&&/*#__PURE__*/_jsxs(\"div\",{className:\"account-btn-group\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"account-log-out-button button\",onClick:handleLogout,children:\"Log Out\"}),/*#__PURE__*/_jsx(\"button\",{className:\"account-edit-button button\",onClick:toggleEditMode,children:\"Edit\\u2192\"})]})]})})]}),/*#__PURE__*/_jsx(Footer,{rootClassName:\"footer-root-class-name\"})]});};export default Account;","map":{"version":3,"names":["React","useState","useEffect","useHistory","Link","Helmet","Footer","InfoAccount","NavBar","EditForm","jsx","_jsx","jsxs","_jsxs","Account","props","userData","setUserData","history","editMode","setEditMode","toggleEditMode","user","localStorage","getItem","console","log","parsedUser","JSON","parse","push","onFormSubmit","handleLogout","removeItem","className","children","property","content","rootClassName","to","username","email","onClick"],"sources":["D:/polska/clearmind/meditation_project/reactapp/src/views/account.js"],"sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { useHistory, Link  } from 'react-router-dom'\nimport { Helmet } from 'react-helmet'\nimport Footer from '../components/footer'\nimport InfoAccount from '../components/info-account'\nimport './account.css'\nimport NavBar from '../components/nav-bar'\nimport EditForm from '../components/edit-form'\n\nconst Account = (props) => {\n  const [userData, setUserData] = useState(null);\n  const history = useHistory(); \n  const [editMode, setEditMode] = useState(false);\n\n  const toggleEditMode = () => {\n    setEditMode(!editMode);\n  };\n\n  useEffect(() => {\n    const user = localStorage.getItem('user');\n    console.log('User data from localStorage:', user); // Log the raw user data from localStorage\n\n    if (user) {\n      const parsedUser = JSON.parse(user);\n      setUserData(parsedUser);\n      console.log('User data:', parsedUser); // Debugging statement\n    } else {\n      // If there's no user data in localStorage, redirect to the login page\n      history.push('/log-in');\n    }\n  }, [history]);\n  \n  const onFormSubmit = () => {\n    const user = localStorage.getItem('user');\n    if (user) {\n      const parsedUser = JSON.parse(user);\n      setUserData(parsedUser);\n    }\n    setEditMode(false);\n  };\n\n  // Function to handle user logout\n  const handleLogout = () => {\n    // Clear user data from localStorage and state\n    localStorage.removeItem('user');\n    setUserData(null);\n    // Redirect to login page or home page\n    props.history.push('/log-in');\n  };\n\n  return (\n    <div className=\"account-container\">\n      <Helmet>\n        <title>Account - Clear Mind</title>\n        <meta property=\"og:title\" content=\"Account - Clear Mind\" />\n      </Helmet>\n      <div className=\"account-hero\">\n        <NavBar rootClassName=\"nav-bar-root-class-name\"></NavBar>\n        <div className=\"account-hero1\">\n          <div className=\"account-container1\">\n            <h1 className=\"log-in-hero-heading heading1\">\n              <Link to='/home' className=\"log-in-hero-heading-link\">\n                Clear Mind\n              </Link>\n            </h1>\n            <div className=\"account-container2\">\n            {editMode ? (\n              <EditForm userData={userData} setEditMode={setEditMode} onFormSubmit={onFormSubmit} />\n            ) : (\n              userData ? ( // Check if userData is not null\n                <div className='info-account-container info-account-root-class-name'>\n                  <span className=\"info-account-text-name\">Username:</span>\n                  <span className=\"info-account-text-name1\">{userData.username}</span>\n                  <span className=\"info-account-text-email\">Email:</span>\n                  <span className=\"info-account-text-email1\">{userData.email}</span>\n      \n                </div>\n              ) : (\n                \n                <p>Loading user data...</p> // Display a loading message or spinner\n              )\n              )}\n            </div>\n            {!editMode && (\n              <div className=\"account-btn-group\">\n                <button className=\"account-log-out-button button\" onClick={handleLogout}>Log Out</button>\n                <button className=\"account-edit-button button\" onClick={toggleEditMode}>Editâ†’</button>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n      <Footer rootClassName=\"footer-root-class-name\"></Footer>\n    </div>\n  )\n}\n\nexport default Account\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}