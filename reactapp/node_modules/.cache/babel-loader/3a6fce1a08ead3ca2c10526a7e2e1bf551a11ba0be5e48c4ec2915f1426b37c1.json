{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{Helmet}from'react-helmet';import TestQuestion from'../components/test-question';import'./test.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Test=props=>{const[questions,setQuestions]=useState([]);const[selectedAnswers,setSelectedAnswers]=useState({});const[currentQuestionIndex,setCurrentQuestionIndex]=useState(0);const[totalScore,setTotalScore]=useState(0);const isLastQuestion=currentQuestionIndex===questions.length-1;useEffect(()=>{// Fetch test questions from the backend\nconst fetchQuestions=async()=>{try{const response=await axios.get('/api/test-questions');setQuestions(response.data);}catch(error){console.error('Error fetching test questions:',error);}};fetchQuestions();},[]);const handleAnswerSelect=(questionId,answerPoints)=>{setSelectedAnswers({...selectedAnswers,[questionId]:answerPoints});};const handleNextQuestion=()=>{if(currentQuestionIndex<questions.length-1){setCurrentQuestionIndex(currentQuestionIndex+1);}else{// Calculate the total score\nconst score=Object.values(selectedAnswers).reduce((acc,points)=>acc+points,0);setTotalScore(score);// Here you can navigate to the results page or display the score\n}};const currentQuestion=questions[currentQuestionIndex];return/*#__PURE__*/_jsxs(\"div\",{className:\"test-container\",children:[/*#__PURE__*/_jsxs(Helmet,{children:[/*#__PURE__*/_jsx(\"title\",{children:\"Test - Clear Mind\"}),/*#__PURE__*/_jsx(\"meta\",{property:\"og:title\",content:\"Test - Clear Mind\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"test-hero\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"test-hero-button1 button\",children:\"Log in\"}),/*#__PURE__*/_jsx(\"div\",{className:\"test-hero1\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"test-container1\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"test-hero-heading heading1\",children:\"Clear Mind\"}),/*#__PURE__*/_jsx(\"span\",{className:\"test-hero-sub-heading\",children:\"Discover the Power of Meditation\"}),/*#__PURE__*/_jsx(\"div\",{className:\"test-btn-group\",children:/*#__PURE__*/_jsx(\"button\",{className:\"test-home-button button\",children:\"Home\"})})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"test-faq\",children:/*#__PURE__*/_jsx(\"div\",{className:\"test-faq-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"test-faq1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"test-heading\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"test-text heading2\",children:\"Test\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"test-text01\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"It test can help you find out what you need at this moment. You need to answer a few questions\\xA0\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(\"span\",{dangerouslySetInnerHTML:{__html:' '}})}),/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(\"span\",{dangerouslySetInnerHTML:{__html:' '}})}),/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(\"span\",{dangerouslySetInnerHTML:{__html:' '}})}),/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(\"span\",{dangerouslySetInnerHTML:{__html:' '}})}),/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(\"span\",{dangerouslySetInnerHTML:{__html:' '}})}),/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(\"span\",{dangerouslySetInnerHTML:{__html:' '}})}),/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(\"span\",{dangerouslySetInnerHTML:{__html:' '}})}),/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(\"span\",{dangerouslySetInnerHTML:{__html:' '}})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"test-test\",children:[currentQuestion&&/*#__PURE__*/_jsx(TestQuestion,{question:currentQuestion.question_text,answers:[{text:currentQuestion.answer_choice_1,points:currentQuestion.answer_choice_1_points},{text:currentQuestion.answer_choice_2,points:currentQuestion.answer_choice_2_points},{text:currentQuestion.answer_choice_3,points:currentQuestion.answer_choice_3_points},{text:currentQuestion.answer_choice_4,points:currentQuestion.answer_choice_4_points}],onAnswerSelect:points=>handleAnswerSelect(currentQuestion.id,points)}),isLastQuestion&&/*#__PURE__*/_jsx(Question,{question:\"Your Total Score\",answer:totalScore}),/*#__PURE__*/_jsxs(\"div\",{className:\"test-buttons\",children:[currentQuestionIndex>0&&/*#__PURE__*/_jsx(\"button\",{className:\"test-back-button button\",onClick:()=>setCurrentQuestionIndex(currentQuestionIndex-1),children:\"<-- Back\"}),/*#__PURE__*/_jsx(\"button\",{className:\"test-next-button button\",onClick:handleNextQuestion,children:isLastQuestion?'Result':'Next --&gt;'})]})]})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"test-footer\",children:/*#__PURE__*/_jsx(\"div\",{className:\"test-container2\"})})]});};export default Test;","map":{"version":3,"names":["React","useState","useEffect","axios","Helmet","TestQuestion","jsx","_jsx","jsxs","_jsxs","Test","props","questions","setQuestions","selectedAnswers","setSelectedAnswers","currentQuestionIndex","setCurrentQuestionIndex","totalScore","setTotalScore","isLastQuestion","length","fetchQuestions","response","get","data","error","console","handleAnswerSelect","questionId","answerPoints","handleNextQuestion","score","Object","values","reduce","acc","points","currentQuestion","className","children","property","content","dangerouslySetInnerHTML","__html","question","question_text","answers","text","answer_choice_1","answer_choice_1_points","answer_choice_2","answer_choice_2_points","answer_choice_3","answer_choice_3_points","answer_choice_4","answer_choice_4_points","onAnswerSelect","id","Question","answer","onClick"],"sources":["D:/polska/clearmind/meditation_project/reactapp/src/views/test.js"],"sourcesContent":["import React, { useState, useEffect } from 'react'\nimport axios from 'axios'\n\nimport { Helmet } from 'react-helmet'\n\nimport TestQuestion from '../components/test-question'\nimport './test.css'\n\nconst Test = (props) => {\n\n  const [questions, setQuestions] = useState([]);\n  const [selectedAnswers, setSelectedAnswers] = useState({});\n  const [currentQuestionIndex, setCurrentQuestionIndex] = useState(0);\n  const [totalScore, setTotalScore] = useState(0);\n  const isLastQuestion = currentQuestionIndex === questions.length - 1;\n\n\n  useEffect(() => {\n    // Fetch test questions from the backend\n    const fetchQuestions = async () => {\n      try {\n        const response = await axios.get('/api/test-questions');\n        setQuestions(response.data);\n      } catch (error) {\n        console.error('Error fetching test questions:', error);\n      }\n    };\n\n    fetchQuestions();\n  }, []);\n\n  const handleAnswerSelect = (questionId, answerPoints) => {\n    setSelectedAnswers({\n      ...selectedAnswers,\n      [questionId]: answerPoints,\n    });\n  };\n\n  const handleNextQuestion = () => {\n    if (currentQuestionIndex < questions.length - 1) {\n      setCurrentQuestionIndex(currentQuestionIndex + 1);\n    } else {\n      // Calculate the total score\n      const score = Object.values(selectedAnswers).reduce((acc, points) => acc + points, 0);\n      setTotalScore(score);\n      // Here you can navigate to the results page or display the score\n    }\n  };\n\n  const currentQuestion = questions[currentQuestionIndex];\n\n  return (\n    <div className=\"test-container\">\n      <Helmet>\n        <title>Test - Clear Mind</title>\n        <meta property=\"og:title\" content=\"Test - Clear Mind\" />\n      </Helmet>\n      <div className=\"test-hero\">\n        <button className=\"test-hero-button1 button\">Log in</button>\n        <div className=\"test-hero1\">\n          <div className=\"test-container1\">\n            <h1 className=\"test-hero-heading heading1\">Clear Mind</h1>\n            <span className=\"test-hero-sub-heading\">\n              Discover the Power of Meditation\n            </span>\n            <div className=\"test-btn-group\">\n              <button className=\"test-home-button button\">Home</button>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div className=\"test-faq\">\n        <div className=\"test-faq-container\">\n          <div className=\"test-faq1\">\n            <div className=\"test-heading\">\n              <h2 className=\"test-text heading2\">Test</h2>\n              <span className=\"test-text01\">\n                <span>\n                  It test can help you find out what you need at this moment.\n                  You need to answer a few questionsÂ \n                </span>\n                <br></br>\n                <span>\n                  <span\n                    dangerouslySetInnerHTML={{\n                      __html: ' ',\n                    }}\n                  />\n                </span>\n                <span>\n                  <span\n                    dangerouslySetInnerHTML={{\n                      __html: ' ',\n                    }}\n                  />\n                </span>\n                <span>\n                  <span\n                    dangerouslySetInnerHTML={{\n                      __html: ' ',\n                    }}\n                  />\n                </span>\n                <span>\n                  <span\n                    dangerouslySetInnerHTML={{\n                      __html: ' ',\n                    }}\n                  />\n                </span>\n                <span>\n                  <span\n                    dangerouslySetInnerHTML={{\n                      __html: ' ',\n                    }}\n                  />\n                </span>\n                <span>\n                  <span\n                    dangerouslySetInnerHTML={{\n                      __html: ' ',\n                    }}\n                  />\n                </span>\n                <span>\n                  <span\n                    dangerouslySetInnerHTML={{\n                      __html: ' ',\n                    }}\n                  />\n                </span>\n                <span>\n                  <span\n                    dangerouslySetInnerHTML={{\n                      __html: ' ',\n                    }}\n                  />\n                </span>\n              </span>\n            </div>\n            <div className=\"test-test\">\n              {currentQuestion && (\n                <TestQuestion\n                  question={currentQuestion.question_text}\n                  answers={[\n                    { text: currentQuestion.answer_choice_1, points: currentQuestion.answer_choice_1_points },\n                    { text: currentQuestion.answer_choice_2, points: currentQuestion.answer_choice_2_points },\n                    { text: currentQuestion.answer_choice_3, points: currentQuestion.answer_choice_3_points },\n                    { text: currentQuestion.answer_choice_4, points: currentQuestion.answer_choice_4_points },\n                  ]}\n                  onAnswerSelect={(points) => handleAnswerSelect(currentQuestion.id, points)}\n                />\n              )}\n              {isLastQuestion && (\n                <Question\n                  question=\"Your Total Score\"\n                  answer={totalScore}\n                />\n              )}\n              <div className=\"test-buttons\">\n                {currentQuestionIndex > 0 && (\n                  <button className=\"test-back-button button\" onClick={() => setCurrentQuestionIndex(currentQuestionIndex - 1)}>&lt;-- Back</button>\n                )}\n                <button className=\"test-next-button button\" onClick={handleNextQuestion}>\n                  {isLastQuestion ? 'Result' : 'Next --&gt;'}\n                </button>\n              </div>\n\n            </div>\n          </div>\n        </div>\n      </div>\n      <div className=\"test-footer\">\n        <div className=\"test-container2\"></div>\n      </div>\n    </div>\n  )\n}\n\nexport default Test\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}